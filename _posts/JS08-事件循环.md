在一轮事件循环中，事件循环会先检查宏任务队列，如果宏任务队列有任务等待，则执行宏任务，直到宏任务队列没有任务等待。然后再去依次处理微任务队列，直到微任务队列执行完毕。当微任务处理完成并且清空时，事件循环会检查是否需要更新UI渲染，然后当前的事件循环结束。